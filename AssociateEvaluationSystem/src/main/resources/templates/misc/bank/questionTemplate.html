
<div>
	<main class="container">


		<div class="row">
			<div class="col-sm-2">
				<select ng-model="catSearch" class="form-control" ng-change="catHasChanged()" ng-click="currentPageOverLimit()">
					<option value="">Choose Category</option>
					<option ng-repeat="category in categoriesInDatabase" value="{{category.name}}">
						{{category.name}}
					</option>
				</select><br>
			</div>
			<div class="col-sm-2">
				<input ng-model="q" id="search" class="form-control" placeholder="Search" ng-keyup="currentPageOverLimit()">
			</div>
			<div class="col-sm-2">
				<select ng-model="pageSize" id="pageSize" class="form-control" ng-click="currentPageOverLimit()" ng-init="Page Size">
					<option value="5">5</option>
					<option value="10">10</option>
					<option value="15">15</option>
					<option value="20">20</option>
				</select>
			</div>
			<div class ="col-sm-6">
			</div>
		</div>

		<div class="row">
			<div class="col-sm-2"></div>

			<div class="col-sm-4">
				<div class="pagination">

					<button class="paginate left" ng-disabled="currentPage <= 0" ng-click="currentPage=currentPage-1"><i></i><i></i>
					</button>


					<span class="ng-cloak">
						<span ng-bind="showCurrPage()" class="pageCounter"></span>
					</span>

					<button class="paginate right" ng-disabled="(currentPage >= qList.length/pageSize - 1) || (currentPage >= filteredItems.length/pageSize - 1)" ng-click="currentPage=currentPage+1">
						<i></i><i></i>
					</button>
				</div>
			</div>
			<div class="col-sm-6"></div>

		</div>


		<span ng-repeat="question in (filteredItems = (qList | filter:q | filter:catSearch:exactMatch))"></span>

		<div row>
			<div class="col-md-6" style="height: 800px; overflow: auto;">
				<table class="table table-bordered table table-hover">
					<thead class="thead-default">
					<tr>
						<th>Question</th>
						<th>Format</th>
						<th>Category</th>
						<th>Id</th>
					</tr>
					</thead>
					<tbody>
					<tr ng-repeat="question in qList | filter:q| filter:catSearch:exactMatch | startFrom:currentPage*pageSize | limitTo:pageSize" ng-click="getQuestion(question)">
						<td>{{question.questionText}}</td>
						<td>{{question.format.formatName}}</td>
						<td>{{question.questionCategory["0"].name}}</td>
						<td>{{question.questionId}}</td>
					</tr>
					</tbody>
				</table>
			</div>


			<div class="col-md-6">
				<span class="questionHeader"> Question: </span>
				<div>
				<textarea rows="4" cols="50" contenteditable="true"
						  style="overflow-y: scroll; resize: none;"
						  ng-model="currentQuestion.questionText"></textarea>
				</div><br>

				<div class="row">
					<div class="col-md-12" ng-show="isMultiChoiceOption">
						<div class="questionHeader">Radio buttons and check boxes show correct answer.</div><br>
						<form>
							<div ng-repeat="option in currentQuestion.option">
								<div>
									 <input type="radio" id="msrad" name="correctChoice"
										   ng-model="option.correct" ng-checked="checkButton(option)"
										   ng-click="multiCorrect(option)">&nbspCorrect Answer
									<br>
									<textarea rows="4" cols="50" contenteditable="true"
											  style="overflow-y: scroll; resize: none;"
											  ng-model="option.optionText"></textarea>
									<br><button class="btn btn-info" ng-click="removeOption(option)">Delete</button>
									Option ID: {{option.optionId}}

									<br> <br>
								</div>
							</div>
						</form>

						<div class="questionHeader">Input a new option to this text field, then click "Add Option".</div>
						<div class="row">
							<div class="col-md-12">
								<br> <textarea rows="4" cols="50" contenteditable="true" style="overflow-y: scroll; resize: none" ng-model="newOption"></textarea><br>
							</div>
						</div>
						<button class="btn btn-info" ng-click="updateQuestion()">Update</button>
						<button class="btn btn-info" ng-click="addOption(newOption)">Add Option</button>
					</div>



					<div class="col-md-12" ng-show="isMultiSelectOption">
						<form>
							<div ng-repeat="option in currentQuestion.option">
								<div>
									<input type="checkbox" ng-model="option.correct"
										   ng-true-value="1" ng-click="multiSelectCorrect(option)">&nbspCorrect Answer<br>

									<textarea rows="4" cols="50" contenteditable="true"
											  style="overflow-y: scroll; resize: none;"
											  ng-model="option.optionText"></textarea>
									<br>
									<button class="btn btn-info" ng-click="removeOption(option)">Delete</button>
									 Option ID: {{option.optionId}}
									<br> <br>
								</div>
							</div>
						</form>
						<div class="questionHeader">Input a new option to this text field, then click "Add Option".</div>

						<div class="row">
							<div class="col-md-12">
								<textarea rows="4" cols="50" contenteditable="true" style="overflow-y: scroll; resize: none" ng-model="newOption"></textarea><br>
							</div>
						</div>
						<br>
						<button class="btn btn-info" ng-click="updateQuestion()">Update</button>
						<button class="btn btn-info" ng-click="addOption(newOption)">Add Option</button>
					</div>

					<!-- Both the removeDDOption button and addDragDrop button work, they are just disabled until a way to change the correct order is implemented. -->
					<div class="col-md-12" ng-show="isDragDrop">
						<div ng-repeat="dragdrop in currentQuestion.dragdrop">
							<div>
						<textarea rows="4" cols="50" contenteditable="true"
								  style="overflow-y: scroll; resize: none;"
								  ng-model="dragdrop.dragDropText"></textarea>
								<br> Option ID: {{option.optionId}}
								<!-- <button ng-click="removeDDOption(dragdrop)">Delete</button> -->
								<br> <br>
							</div>
						</div>
						<div class="questionHeader">Input a new option to this text field, then click "Add Option".</div><br>
						<div class="questionHeader">IF THIS IS USED TO ADD AN OPTION, THEN THE CORRECT ORDER MUST BE CHANGED
				MANUALLY IN THE	DATABASE</div>
						<br> <input type="text" size="60" ng-model="newDragDrop"></input><br>
						<button ng-click="updateQuestion()">Update</button>
						<button ng-click="addDragDrop(newDragDrop)">Add Option</button>
					</div>
					<div></div>
				</div>


			</div>

		</div>




	</main>
</div>